<!DOCTYPE html>
<html>

<head>
    <title>Antrag stellen</title>
    <!-- Verknüpfung zu Bootstrap-CSS hinzufügen -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <h1 class="mt-4">Antrag stellen</h1>
        <form id="myForm" action="http://localhost:3000/process_form" method="POST">
            <div class="form-group">
                <label for="personalnummer">Personalnummer:</label>
                <input type="text" class="form-control" id="personalnummer" name="personalnummer" required>
            </div>

            <div class="form-group">
                <label for="startdatum">Startdatum Urlaub:</label>
                <input type="date" class="form-control" id="startdatum" name="startdatum" required>
            </div>

            <div class="form-group">
                <label for="enddatum">Enddatum Urlaub:</label>
                <input type="date" class="form-control" id="enddatum" name="enddatum" required>
            </div>

            <div class="form-group">
                <label for="urlaubstage">Summe Urlaubstage:</label>
                <input type="text" class="form-control" id="urlaubstage" name="urlaubstage" readonly>
            </div>

            <div class="form-group">
                <label>Art des Urlaubs:</label><br>
                <div class="form-check">
                    <input type="radio" class="form-check-input" id="bildungsurlaub" name="urlaubsart"
                        value="Bildungsurlaub">
                    <label class="form-check-label" for="bildungsurlaub">Bildungsurlaub</label>
                </div>

                <div class="form-check">
                    <input type="radio" class="form-check-input" id="umzug" name="urlaubsart" value="Umzug">
                    <label class="form-check-label" for="umzug">Umzug</label>
                </div>

                <div class="form-check">
                    <input type="radio" class="form-check-input" id="normalerUrlaub" name="urlaubsart"
                        value="Normaler Urlaub">
                    <label class="form-check-label" for="normalerUrlaub">Normaler Urlaub</label>
                </div>

                <div class="form-check">
                    <input type="radio" class="form-check-input" id="ueberstundenausgleich" name="urlaubsart"
                        value="Ueberstundenausgleich">
                    <label class="form-check-label" for="normalerUrlaub">Überstundenausgleich</label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Antrag abschicken</button>
        </form>
    </div>

    <!-- JavaScript-Funktion, um die Anzahl der Urlaubstage automatisch zu berechnen TODO: Wochenenden + Feiertage ausrechnen-->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('startdatum').addEventListener('change', updateUrlaubstage);
            document.getElementById('enddatum').addEventListener('change', updateUrlaubstage);

            function updateUrlaubstage() {
                var startdatum = new Date(document.getElementById('startdatum').value);
                var enddatum = new Date(document.getElementById('enddatum').value);
                var millisecondsPerDay = 24 * 60 * 60 * 1000;
                var urlaubstage = Math.round((enddatum - startdatum) / millisecondsPerDay);
                document.getElementById('urlaubstage').value = urlaubstage;
            }
        });
    </script>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
    <title>Urlaubsantragsverwaltung</title>
    <!-- Verknüpfung zu Bootstrap-CSS hinzufügen -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
    <style>
        /* Style for the gear icon */
        #adminIcon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            cursor: pointer;
        }
    </style>
    <div class="container">
        <h1 class="mt-4">Urlaubsantragsverwaltung</h1>
        <p>Willkommen zur Urlaubsantragsverwaltung. Wählen Sie eine Option:</p>

        <!-- Verwenden Sie Bootstrap-Buttons -->
        <div class="btn-group">
            <a href="antrag_stellen" class="btn btn-primary">Antrag stellen</a>
            <!-- Nur wenn Manager -> button sichtbar -->
            <a id="antragPruefenBtn" href="antrag_pruefen" class="btn btn-success" style="display: none;">Antrag prüfen</a> 
        </div>
    </div>

    <div id="adminIcon">
        <a href="/admin">
            <span>&#9881;</span>
        </a>
    </div>

    <!-- Verknüpfung zu Bootstrap-JavaScript hinzufügen (optional) -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', async function () {
            try {
                var role;
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    // Check if this is the cookie we're looking for
                    if (cookie.startsWith('role' + '=')) {
                        role = cookie.split('role=')[1];
                    }
                }
                // Check if the user is a manager and show the button accordingly
                if (role === 'Manager') {
                    document.getElementById('antragPruefenBtn').style.display = 'block';
                }

            } catch (error) {
                console.error('Error getting user information:', error);
            }
        });
    </script>
</body>

</html>